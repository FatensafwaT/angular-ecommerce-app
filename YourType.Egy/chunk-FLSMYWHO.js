import{a as P}from"./chunk-AFCTF5GS.js";import{B as h,C as S,G as C,J as u,K as n,L as e,P as b,Q as _,R as m,U as i,V as x,W as v,ba as f,ca as g,ia as I,ja as y,ka as k,la as E,q as d,r as p,sa as O,z as a}from"./chunk-7Q6OMOQT.js";function T(c,r){c&1&&(n(0,"div",4),i(1," Your cart is empty \u{1F6D2} "),e())}function M(c,r){if(c&1){let t=b();n(0,"tr")(1,"td"),i(2),e(),n(3,"td"),i(4),f(5,"currency"),e(),n(6,"td")(7,"button",10),_("click",function(){let o=d(t).$implicit,s=m(2);return p(s.decrement(o.id))}),i(8,"-"),e(),i(9),n(10,"button",11),_("click",function(){let o=d(t).$implicit,s=m(2);return p(s.increment(o.id))}),i(11,"+"),e()(),n(12,"td")(13,"button",12),_("click",function(){let o=d(t).$implicit,s=m(2);return p(s.removeItem(o.id))}),i(14,"Remove"),e()()()}if(c&2){let t=r.$implicit;a(2),x(t.title),a(2),x(g(5,3,t.price,"EGP","symbol")),a(5),v(" ",t.quantity," ")}}function V(c,r){if(c&1){let t=b();n(0,"div")(1,"table",5)(2,"thead")(3,"tr")(4,"th"),i(5,"Product"),e(),n(6,"th"),i(7,"Price"),e(),n(8,"th"),i(9,"Quantity"),e(),n(10,"th"),i(11,"Actions"),e()()(),n(12,"tbody"),C(13,M,15,7,"tr",6),e()(),n(14,"h4",7),i(15),f(16,"currency"),e(),n(17,"button",8),_("click",function(){d(t);let o=m();return o.cartService.clearCart(),p(o.loadCart())}),i(18,"Clear Cart"),e(),n(19,"button",9),i(20,` Check Out
`),e()()}if(c&2){let t=m();a(13),u("ngForOf",t.cartItems),a(2),v("Total: ",g(16,2,t.total,"EGP","symbol"))}}var w=class c{constructor(r){this.cartService=r}cartItems=[];total=0;ngOnInit(){this.loadCart()}loadCart(){this.cartItems=this.cartService.getCartItems(),this.calculateTotal()}removeItem(r){this.cartService.removeFromCart(r),this.loadCart()}increment(r){this.cartService.incrementQuantity(r),this.loadCart()}decrement(r){this.cartService.decrementQuantity(r),this.loadCart()}calculateTotal(){this.total=this.cartItems.reduce((r,t)=>r+t.price*t.quantity,0)}static \u0275fac=function(t){return new(t||c)(h(P))};static \u0275cmp=S({type:c,selectors:[["app-cart"]],decls:5,vars:2,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],["class","text-center",4,"ngIf"],[4,"ngIf"],[1,"text-center"],[1,"table","table-hover","align-middle"],[4,"ngFor","ngForOf"],[1,"text-end"],[1,"btn","btn-clear","float-end","mt-2",3,"click"],["routerLink","/checkout",1,"btn","btn-checkout"],[1,"btn","btn-sm","btn-outline-primary","me-1",3,"click"],[1,"btn","btn-sm","btn-outline-primary","ms-1",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"]],template:function(t,l){t&1&&(n(0,"div",0)(1,"h2",1),i(2,"Your Cart"),e(),C(3,T,2,0,"div",2)(4,V,21,6,"div",3),e()),t&2&&(a(3),u("ngIf",l.cartItems.length===0),a(),u("ngIf",l.cartItems.length>0))},dependencies:[E,I,y,O,k],styles:["table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important}h4[_ngcontent-%COMP%]{color:#a3573a}.btn-clear[_ngcontent-%COMP%], .btn-checkout[_ngcontent-%COMP%]{background-color:#a3573a;color:#fff}"]})};export{w as CartComponent};
