import{a as i,b as s,f as n,m as c}from"./chunk-7Q6OMOQT.js";var o=class r{cartKey="cart";cartItems=[];cartCount=new n(0);constructor(){this.loadCart()}loadCart(){this.cartItems=JSON.parse(localStorage.getItem(this.cartKey)||"[]"),this.cartCount.next(this.cartItems.length)}getCartItems(){return this.cartItems}addToCart(e){let t=this.cartItems.findIndex(a=>a.id===e.id);t!==-1?this.cartItems[t].quantity+=1:this.cartItems.push(s(i({},e),{quantity:1})),this.updateStorage(),alert("item added successfully")}removeFromCart(e){let t=this.cartItems.findIndex(a=>a.id===e);t!==-1&&(this.cartItems.splice(t,1),this.updateStorage())}incrementQuantity(e){let t=this.cartItems.findIndex(a=>a.id===e);t!==-1&&(this.cartItems[t].quantity+=1,this.updateStorage())}decrementQuantity(e){let t=this.cartItems.findIndex(a=>a.id===e);t!==-1&&(this.cartItems[t].quantity>1?this.cartItems[t].quantity-=1:this.cartItems.splice(t,1),this.updateStorage())}clearCart(){this.cartItems=[],this.updateStorage()}updateStorage(){localStorage.setItem(this.cartKey,JSON.stringify(this.cartItems)),this.cartCount.next(this.cartItems.length)}getTotalPrice(){return this.getCartItems().reduce((t,a)=>t+a.price*a.quantity,0)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=c({token:r,factory:r.\u0275fac,providedIn:"root"})};export{o as a};
